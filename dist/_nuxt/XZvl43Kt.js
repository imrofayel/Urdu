import{r as g,ak as W,ab as O,a8 as $,G as C,D as A,Z as D,o as z,aa as G,d as I,M as L,c as _,e as k,f as y,t as N,I as V,n as q,Y as R,A as Y}from"./Db3l9hJb.js";import{_ as Z}from"./DlAUqK2U.js";function T(e){return O()?($(e),!0):!1}function b(e){return typeof e=="function"?e():C(e)}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const H=Object.prototype.toString,J=e=>H.call(e)==="[object Object]",K=()=>{};function Q(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const s=t;t=void 0,s&&await s},n}function U(e,t,n={}){const{immediate:s=!0}=n,a=g(!1);let o=null;function i(){o&&(clearTimeout(o),o=null)}function u(){a.value=!1,i()}function f(...c){i(),a.value=!0,o=setTimeout(()=>{a.value=!1,o=null,e(...c)},b(t))}return s&&(a.value=!0,S&&f()),T(u),{isPending:W(a),start:f,stop:u}}function X(e){var t;const n=b(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ee=S?window:void 0,M=S?window.navigator:void 0;function j(...e){let t,n,s,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,s,a]=e,t=ee):[t,n,s,a]=e,!t)return K;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const o=[],i=()=>{o.forEach(l=>l()),o.length=0},u=(l,d,v,m)=>(l.addEventListener(d,v,m),()=>l.removeEventListener(d,v,m)),f=D(()=>[X(t),b(a)],([l,d])=>{if(i(),!l)return;const v=J(d)?{...d}:d;o.push(...n.flatMap(m=>s.map(h=>u(l,m,h,v))))},{immediate:!0,flush:"post"}),c=()=>{f(),i()};return T(c),c}function te(){const e=g(!1),t=G();return t&&z(()=>{e.value=!0},t),e}function B(e){const t=te();return A(()=>(t.value,!!e()))}function E(e,t={}){const{controls:n=!1,navigator:s=M}=t,a=B(()=>s&&"permissions"in s);let o;const i=typeof e=="string"?{name:e}:e,u=g(),f=()=>{o&&(u.value=o.state)},c=Q(async()=>{if(a.value){if(!o)try{o=await s.permissions.query(i),j(o,"change",f),f()}catch{u.value="prompt"}return o}});return c(),n?{state:u,isSupported:a,query:c}:u}function ne(e={}){const{navigator:t=M,read:n=!1,source:s,copiedDuring:a=1500,legacy:o=!1}=e,i=B(()=>t&&"clipboard"in t),u=E("clipboard-read"),f=E("clipboard-write"),c=A(()=>i.value||o),l=g(""),d=g(!1),v=U(()=>d.value=!1,a);function m(){i.value&&w(u.value)?t.clipboard.readText().then(r=>{l.value=r}):l.value=P()}c.value&&n&&j(["copy","cut"],m);async function h(r=b(s)){c.value&&r!=null&&(i.value&&w(f.value)?await t.clipboard.writeText(r):F(r),l.value=r,d.value=!0,v.start())}function F(r){const p=document.createElement("textarea");p.value=r??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function P(){var r,p,x;return(x=(p=(r=document==null?void 0:document.getSelection)==null?void 0:r.call(document))==null?void 0:p.toString())!=null?x:""}function w(r){return r==="granted"||r==="prompt"}return{isSupported:c,text:l,copied:d,copy:h}}const oe={class:"custom-code-block"},se={class:"dark:bg-[#1F2937] border shadow-lg bg-neutral-200 my-5 rounded-md pt-3 px-5 group"},ae={class:"flex sm:grid sm:grid-cols-3 mb-3 justify-between items-center"},re=Y('<div class="hidden sm:flex gap-2.5" data-v-671f49b7><div class="size-3 rounded-full bg-[#FE5F57] hidden group-hover:block" data-v-671f49b7></div><div class="size-3 rounded-full bg-[#FEBC2E] hidden group-hover:block" data-v-671f49b7></div><div class="size-3 rounded-full bg-[#28C840] hidden group-hover:block" data-v-671f49b7></div><div class="size-3 rounded-full dark:bg-gray-600 bg-neutral-400 group-hover:hidden" data-v-671f49b7></div><div class="size-3 rounded-full dark:bg-gray-600 bg-neutral-400 group-hover:hidden" data-v-671f49b7></div><div class="size-3 rounded-full dark:bg-gray-600 bg-neutral-400 group-hover:hidden" data-v-671f49b7></div></div>',1),ie={class:"border-b font-mono text-xs text-center dark:text-white/60 max-sm:truncate"},le={class:"flex justify-end"},ue={key:1,class:"text-xs opacity-50"},ce=I({__name:"ProseCode",props:{code:{type:String,default:""},filename:{type:String,default:null},class:{type:String,default:null}},setup(e){const{copy:t,copied:n}=ne(),s=g(!1);return z(()=>{n&&(s.value=!0,setTimeout(()=>{s.value=!1},3e3))}),(a,o)=>{const i=L("Copy");return _(),k("div",oe,[y("div",se,[y("div",ae,[re,y("div",ie,N(e.filename),1),y("div",le,[C(n)?(_(),k("div",ue," Copied! ")):(_(),V(i,{key:0,class:"cursor-pointer opacity-50",size:16,onClick:o[0]||(o[0]=u=>C(t)(e.code))}))])]),y("pre",{class:q(["my-0 font-[500] bg-transparent leading-normal font-mono custom-pre",a.$props.class])},[R(a.$slots,"default",{},void 0,!0)],2)])])}}}),pe=Z(ce,[["__scopeId","data-v-671f49b7"]]);export{pe as default};
